#!/usr/bin/env bash
#
# -*- Mode: sh; coding: utf-8; indent-tabs-mode: nil; tab-width: 2 -*-
# vim:set expandtab tabstop=2 fenc=utf-8 fileformat=unix filetype=sh:
#
# Shortcut for `docker-compose exec`

dcsh__run() {
  local user=${1:-root}
  local service="${2?You must pass the service name}"
  local cmd=${3:-bash}
  
  echo "==> Running '${cmd}' as '${user}' in '${service}'"
  docker-compose exec -u "$user" "$service" "$cmd"
}

dcsh__run "$@"
