.\" Automatically generated by Pandoc 2.19.2
.\"
.\" Define V font for inline verbatim, using C font in formats
.\" that render this, and otherwise B font.
.ie "\f[CB]x\f[]"x" \{\
. ftr V B
. ftr VI BI
. ftr VB B
. ftr VBI BI
.\}
.el \{\
. ftr V CR
. ftr VI CI
. ftr VB CB
. ftr VBI CBI
.\}
.TH "docker_scp_deploy" "1" "November 2021" "dreadwarrior" "dotfiles"
.hy
.SH NAME
.PP
\f[B]docker_scp_deploy\f[R] - Deploy Docker images via scp.
.SH SYNOPSIS
.PP
\f[B]\f[VB]docker_scp_deploy\f[B]\f[R] \f[I]save-path\f[R]
\f[I]image-name\f[R] \f[I]ssh-user\f[R] \f[I]ssh-host\f[R]
\f[I]remote-path\f[R]
.SH DESCRIPTION
.PP
Deploy a Docker image to a remote host via SCP without uploading to a
registry.
.SH OPTIONS
.TP
\f[I]save-path\f[R]
Path to the file where the \f[I]image-name\f[R] will be saved on the
local host.
.TP
\f[I]image-name\f[R]
Name of the image which was built locally.
.TP
\f[I]ssh-user\f[R]
Username used for connecting to remote host.
.TP
\f[I]ssh-host\f[R]
Remote hostname.
.TP
\f[I]remote-path\f[R]
Path where the image should be saved.
.SH EXAMPLES
.PP
The locally built \f[V]my-app:latest\f[R] Docker image is saved in the
file \f[V]my-app.tar.gz\f[R] in the current directory.
It is uploaded as user \f[V]ci\f[R] to the host \f[V]my-app.com\f[R]
into the remote folder \f[V]builds/\f[R]:
.IP
.nf
\f[C]
$ docker_scp_deploy my-app.tar.gz my-app:latest ci my-app.com builds/
\f[R]
.fi
.SH BUGS
.PP
The uploaded image is currently not removed.
Please ensure you login regularly and cleanup the target folder(s)
manually.
.SH SEE ALSO
.PP
scp(1), ssh(1)
